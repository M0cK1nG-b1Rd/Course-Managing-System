{"version":3,"sources":["webpack:///src/views/docs/Download.vue","webpack:///./src/views/docs/Download.vue?2f46","webpack:///./src/views/docs/Download.vue","webpack:///./node_modules/js-file-download/file-download.js","webpack:///./src/views/docs/Download.vue?75f9","webpack:///./src/views/docs/Download.vue?7348","webpack:///./src/views/docs/Download.vue?960f","webpack:///./src/views/docs/Download.vue?363b"],"names":["Download","name","data","query","nameSearch","currentPage","pageSize","total","Height","tableData","multipleSelection","isShow","uploadVisible","form","id","deleteDialogVisible","created","this","getData","methods","_this","Object","uploadFile","then","res","length","handlerClose","$set","handleSizeChange","val","console","log","handleCurrentChange","uploadFiles","downloadHandle","index","row","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","elemIF","wrap","_context","prev","next","loadingOverLay","$loading","lock","text","spinner","background","__webpack_require__","fileDownload","filename","document","createElement","style","display","body","appendChild","close","stop","deleteHandle","result","$message","success","splice","error","handleDialogClose","mySlice","slice","mounted","_this3","documentElement","clientHeight","window","onresize","components","UploadBigFile","Upload","render","_vm","_h","$createElement","_c","_self","staticStyle","text-align","staticClass","_v","minHeight","width","attrs","prop","label","align","_e","show-overflow-tooltip","fixed","scopedSlots","_u","key","fn","scope","type","icon","size","on","click","$event","$index","title","confirm","slot","current-page","page-sizes","page-size","layout","size-change","current-change","directives","rawName","center","visible","update:visible","_withStripped","esExports","staticRenderFns","docs_Download","disposed","Component","normalizeComponent","ssrContext","options","__file","__webpack_exports__","module","exports","mime","bom","blob","Blob","navigator","msSaveBlob","blobURL","URL","createObjectURL","webkitURL","tempLink","href","setAttribute","download","setTimeout","removeChild","revokeObjectURL","content","i","locals","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/10.4bc10ced8be521ecc87b.js","sourcesContent":["<template>\r\n<el-container>\r\n  <el-header style=\"text-align: left\">    <!--文字居左-->\r\n    <div class=\"el-icon-folder\" :style=\"{Height: Height + 'px'}\">PM管理系统-文件下载中心</div>\r\n\r\n  </el-header>\r\n  <el-main v-bind:style=\"{minHeight: Height+'px'}\"><router-view/>\r\n\r\n\r\n<!--    table主要区域   -->\r\n    <el-table :data=\"mySlice(this.tableData)\" style=\"width: 100%\">\r\n      <el-table-column  prop=\"id\" label=\"ID\" width=\"120\" align=\"center\" v-if=\"isShow\">\r\n      </el-table-column>\r\n      <el-table-column  prop=\"refProjectId\" label=\"项目ID\" width=\"80\" align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"filename\" label=\"文件名\" width=\"200\" show-overflow-tooltip><!--tooltip表格列内容过长时显示提示-->\r\n      </el-table-column>\r\n      <el-table-column prop=\"totalSizeName\" label=\"文件大小\" width=\"200\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"location\" label=\"location\" align=\"center\" v-if=\"isShow\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"identifier\" label=\"identifier\" align=\"center\" v-if=\"isShow\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"uploadTimeString\" label=\"上传时间\" width=\"200\">\r\n      </el-table-column>\r\n      <el-table-column fixed=\"right\" label=\"操作\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-download\"\r\n              class=\"blue\"\r\n              @click=\"downloadHandle(scope.$index, scope.row)\" size=\"small\">下载</el-button>\r\n          <el-popconfirm\r\n            title=\"确定删除该文件吗？\"\r\n            @confirm=\"deleteHandle(scope.$index, scope.row)\"\r\n          >\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-delete\"\r\n              class=\"red\"\r\n              slot=\"reference\"\r\n              size=\"small\">删除</el-button>\r\n\r\n          </el-popconfirm>\r\n\r\n<!--              删除文件时弹出的警告对话框-->\r\n<!--          <el-dialog-->\r\n<!--            title=\"提示\"-->\r\n<!--            :visible.sync=\"deleteDialogVisible\"-->\r\n<!--            :before-close=\"handleDialogClose\"-->\r\n<!--            width=\"30%\">-->\r\n<!--            <span>文件删除后不可恢复，您确定需要删除吗？</span>-->\r\n<!--            <span slot=\"footer\" class=\"dialog-footer\">-->\r\n<!--              <el-button @click=\"deleteDialogVisible = false\">取 消</el-button>-->\r\n<!--              <el-button type=\"primary\" @click=\"deleteHandle(scope.$index, scope.row)\">确 定</el-button>-->\r\n<!--            </span>-->\r\n<!--          </el-dialog>-->\r\n\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n\r\n\r\n\r\n    <!--  table主要区域结束  -->\r\n\r\n    <!--  分页 begin   -->\r\n    <!--page-size设置每页几条数据-->\r\n    <!--:total设置共几条数据-->\r\n    <!--@current-change设置方法绑定点击页码事件-->\r\n    <!--设置分页显示功能-->\r\n    <el-pagination align=\"center\"\r\n                   background\r\n                   @size-change=\"handleSizeChange\"\r\n                   @current-change=\"handleCurrentChange\"\r\n                   :current-page=\"query.currentPage\"\r\n                   :page-sizes=\"[1,5,10,20]\"\r\n                   :page-size=\"query.pageSize\"\r\n                   layout=\"total, sizes, prev, pager, next, jumper\"\r\n                   :total=\"total\">\r\n\r\n    </el-pagination>\r\n    <!--   分页  end   -->\r\n\r\n  </el-main>\r\n  <!--   主体内容结束     -->\r\n\r\n  <!--上传附件弹出框 -->\r\n  <el-dialog v-dialogDrag title=\"文件上传\" center :visible.sync=\"uploadVisible\" width=\"60%\" :close=\"handlerClose\">\r\n    <UploadBigFile class=\"uploadSlot\"></UploadBigFile>\r\n  </el-dialog>\r\n\r\n  <el-footer>\r\n    <li class=\"mr-3 mr-lg-0\">© 2020 项目管理, Inc.All rights reserved.</li>\r\n  </el-footer>\r\n</el-container>\r\n</template>\r\n<style>\r\n.el-header, .el-footer {\r\n  background-color: #B3C0D1;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n\r\n.el-main {\r\n  background-color: #E9EEF3;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 80px;\r\n}\r\n.el-container {\r\n  height: 100%;\r\n}\r\nbody > .el-container {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport UploadBigFile from './Upload';\r\nimport {selectFileList, deleteFile,downloadFile} from \"@/api/modules/uploadFile\";\r\n\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data() {\r\n    // const item = {\r\n    //   id: 1,\r\n    //   filename: '板坯识别111111111111111111',\r\n    //   total_size: '原晓琴',\r\n    //   upload_time: '2016-05-02',\r\n    // };\r\n    return {\r\n      query: {\r\n        nameSearch: '',\r\n        currentPage: 1,//当前页码\r\n        pageSize: 5,   //每页5条数据\r\n      },\r\n      total: 0,\r\n      Height: 0,       //固定底部不随主题内容上下浮动\r\n      //tableData: Array(7).fill(item),    //填充测试数据\r\n      tableData: [],\r\n      nameSearch: '',\r\n      multipleSelection: [],\r\n      isShow: false,\r\n      uploadVisible: false,\r\n      form: {},\r\n      id: -1,\r\n      // 删除文件时警示框的可见性\r\n      deleteDialogVisible: false\r\n    };\r\n  },\r\n  //  初始化\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    //从后台获取文件列表\r\n    getData() {\r\n      selectFileList(this.query).then(res => {\r\n        this.tableData = res.data;\r\n        if(res.data)\r\n        this.total = res.data.length;\r\n      })\r\n    },\r\n\r\n    // 关闭上传文件弹出框时触发\r\n    handlerClose(){\r\n      this.$set(this.query, 'currentPage', 1);\r\n      this.getData();\r\n    },\r\n\r\n    //每页条数改变时触发 选择一页显示多少行\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.query.currentPage = 1;\r\n      this.query.pageSize = val;\r\n    },\r\n    //当前页改变时触发 跳转其他页\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.query.currentPage = val;\r\n    },\r\n    uploadFiles(){\r\n      this.uploadVisible = true;\r\n    },\r\n\r\n    //下载文件操作\r\n    async downloadHandle(index, row) {\r\n      this.loadingOverLay = this.$loading({\r\n        lock: true,\r\n        text: '文件生成中',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0,0,0,0.7)'\r\n      });\r\n      downloadFile(row).then(\r\n        res => {\r\n          // 创建Blob对象，设置文件类型\r\n          // window.location.herf=\"www.baidu.com\";\r\n          let fileDownload = require('js-file-download');\r\n          fileDownload(res, row.filename);\r\n          /*let blob = new Blob([res],{type: \"image/jpeg\"})\r\n          let objectUrl = URL.createObjectURL(blob) // 创建URL\r\n          location.href = objectUrl\r\n          URL.revokeObjectURL(objectUrl); // 释放内存*/\r\n          //fileDownload(res.data, \"he.png\");\r\n        // this.tableData = res.data;\r\n        // this.total = res.data.length;\r\n      })\r\n\r\n      var elemIF = document.createElement('iframe');\r\n\r\n      //elemIF.src = `http://${process.env.BACKEND_API_HOST}`+'/uploader/download?id='+row.id+'&filename='+row.filename+'&location='+row.location;\r\n      elemIF.style.display ='none';\r\n      document.body.appendChild(elemIF);\r\n      this.loadingOverLay.close();\r\n    },\r\n\r\n    //删除文件操作\r\n    deleteHandle(index, row) {\r\n      let result =  deleteFile(row);\r\n      console.log(result);\r\n      result.data=1;\r\n      if (result.data > 0) {\r\n        this.$message.success('删除成功');\r\n        this.tableData.splice(index, 1);\r\n      }else{\r\n        this.$message.error('删除失败');\r\n      }\r\n    },\r\n\r\n    // 关闭删除文件警示对话框时调用\r\n    handleDialogClose(){\r\n        this.deleteDialogVisible = false\r\n    },\r\n\r\n    mySlice(tableData){\r\n      if(tableData.length!==0){\r\n        return tableData.slice((this.query.currentPage-1)*this.query.pageSize, this.query.currentPage * this.query.pageSize)\r\n      }else{return null}\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n    //动态设置内容高度，让footer始终置底  120是header+footer高度\r\n    this.Height = document.documentElement.clientHeight - 120;\r\n    //监听浏览器窗口变化\r\n    window.onresize = () => {this.Height = document.documentElement.clientHeight - 120}\r\n  },\r\n\r\n  components: {\r\n    UploadBigFile\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n  margin-top: -20px;\r\n  margin-bottom: 0px;\r\n}\r\n.uploadSlot {\r\n  margin: -10px 10px 10px 30px;\r\n}\r\n.red {\r\n  color: #ff0000;\r\n}\r\n.mr10 {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/docs/Download.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"el-container\",\n    [\n      _c(\"el-header\", { staticStyle: { \"text-align\": \"left\" } }, [\n        _c(\n          \"div\",\n          {\n            staticClass: \"el-icon-folder\",\n            style: { Height: _vm.Height + \"px\" }\n          },\n          [_vm._v(\"PM管理系统-文件下载中心\")]\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"el-main\",\n        { style: { minHeight: _vm.Height + \"px\" } },\n        [\n          _c(\"router-view\"),\n          _vm._v(\" \"),\n          _c(\n            \"el-table\",\n            {\n              staticStyle: { width: \"100%\" },\n              attrs: { data: _vm.mySlice(this.tableData) }\n            },\n            [\n              _vm.isShow\n                ? _c(\"el-table-column\", {\n                    attrs: {\n                      prop: \"id\",\n                      label: \"ID\",\n                      width: \"120\",\n                      align: \"center\"\n                    }\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: {\n                  prop: \"refProjectId\",\n                  label: \"项目ID\",\n                  width: \"80\",\n                  align: \"center\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: {\n                  prop: \"filename\",\n                  label: \"文件名\",\n                  width: \"200\",\n                  \"show-overflow-tooltip\": \"\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: {\n                  prop: \"totalSizeName\",\n                  label: \"文件大小\",\n                  width: \"200\"\n                }\n              }),\n              _vm._v(\" \"),\n              _vm.isShow\n                ? _c(\"el-table-column\", {\n                    attrs: {\n                      prop: \"location\",\n                      label: \"location\",\n                      align: \"center\"\n                    }\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.isShow\n                ? _c(\"el-table-column\", {\n                    attrs: {\n                      prop: \"identifier\",\n                      label: \"identifier\",\n                      align: \"center\"\n                    }\n                  })\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: {\n                  prop: \"uploadTimeString\",\n                  label: \"上传时间\",\n                  width: \"200\"\n                }\n              }),\n              _vm._v(\" \"),\n              _c(\"el-table-column\", {\n                attrs: { fixed: \"right\", label: \"操作\", align: \"center\" },\n                scopedSlots: _vm._u([\n                  {\n                    key: \"default\",\n                    fn: function(scope) {\n                      return [\n                        _c(\n                          \"el-button\",\n                          {\n                            staticClass: \"blue\",\n                            attrs: {\n                              type: \"text\",\n                              icon: \"el-icon-download\",\n                              size: \"small\"\n                            },\n                            on: {\n                              click: function($event) {\n                                return _vm.downloadHandle(\n                                  scope.$index,\n                                  scope.row\n                                )\n                              }\n                            }\n                          },\n                          [_vm._v(\"下载\")]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\n                          \"el-popconfirm\",\n                          {\n                            attrs: { title: \"确定删除该文件吗？\" },\n                            on: {\n                              confirm: function($event) {\n                                return _vm.deleteHandle(scope.$index, scope.row)\n                              }\n                            }\n                          },\n                          [\n                            _c(\n                              \"el-button\",\n                              {\n                                staticClass: \"red\",\n                                attrs: {\n                                  slot: \"reference\",\n                                  type: \"text\",\n                                  icon: \"el-icon-delete\",\n                                  size: \"small\"\n                                },\n                                slot: \"reference\"\n                              },\n                              [_vm._v(\"删除\")]\n                            )\n                          ],\n                          1\n                        )\n                      ]\n                    }\n                  }\n                ])\n              })\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\"el-pagination\", {\n            attrs: {\n              align: \"center\",\n              background: \"\",\n              \"current-page\": _vm.query.currentPage,\n              \"page-sizes\": [1, 5, 10, 20],\n              \"page-size\": _vm.query.pageSize,\n              layout: \"total, sizes, prev, pager, next, jumper\",\n              total: _vm.total\n            },\n            on: {\n              \"size-change\": _vm.handleSizeChange,\n              \"current-change\": _vm.handleCurrentChange\n            }\n          })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"el-dialog\",\n        {\n          directives: [{ name: \"dialogDrag\", rawName: \"v-dialogDrag\" }],\n          attrs: {\n            title: \"文件上传\",\n            center: \"\",\n            visible: _vm.uploadVisible,\n            width: \"60%\",\n            close: _vm.handlerClose\n          },\n          on: {\n            \"update:visible\": function($event) {\n              _vm.uploadVisible = $event\n            }\n          }\n        },\n        [_c(\"UploadBigFile\", { staticClass: \"uploadSlot\" })],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"el-footer\", [\n        _c(\"li\", { staticClass: \"mr-3 mr-lg-0\" }, [\n          _vm._v(\"© 2020 项目管理, Inc.All rights reserved.\")\n        ])\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-25356852\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25356852\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/docs/Download.vue\n// module id = null\n// module chunks = ","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Download.vue\")\n  require(\"!!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Download.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Download.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Download.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25356852\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Download.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25356852\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/views/docs/Download.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-25356852\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-25356852\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/docs/Download.vue\n// module id = null\n// module chunks = ","module.exports = function(data, filename, mime, bom) {\n    var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n    var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n    if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n    }\n    else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n            tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n            document.body.removeChild(tempLink);\n            window.URL.revokeObjectURL(blobURL);\n        }, 200)\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/js-file-download/file-download.js\n// module id = 3UNf\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"4051e6e6\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Download.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-25356852\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/docs/Download.vue\n// module id = 3n/3\n// module chunks = 10","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"1dd701c3\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25356852\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./Download.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-25356852\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=1!./src/views/docs/Download.vue\n// module id = Frw8\n// module chunks = 10","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.handle-box[data-v-25356852] {\\r\\n  margin-top: -20px;\\r\\n  margin-bottom: 0px;\\n}\\n.uploadSlot[data-v-25356852] {\\r\\n  margin: -10px 10px 10px 30px;\\n}\\n.red[data-v-25356852] {\\r\\n  color: #ff0000;\\n}\\n.mr10[data-v-25356852] {\\r\\n  margin-right: 10px;\\n}\\r\\n\", \"\", {\"version\":3,\"sources\":[\"C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/docs/src/views/docs/Download.vue\"],\"names\":[],\"mappings\":\";AAoQA;EACA,kBAAA;EACA,mBAAA;CACA;AACA;EACA,6BAAA;CACA;AACA;EACA,eAAA;CACA;AACA;EACA,mBAAA;CACA\",\"file\":\"Download.vue\",\"sourcesContent\":[\"<template>\\r\\n<el-container>\\r\\n  <el-header style=\\\"text-align: left\\\">    <!--文字居左-->\\r\\n    <div class=\\\"el-icon-folder\\\" :style=\\\"{Height: Height + 'px'}\\\">PM管理系统-文件下载中心</div>\\r\\n\\r\\n  </el-header>\\r\\n  <el-main v-bind:style=\\\"{minHeight: Height+'px'}\\\"><router-view/>\\r\\n\\r\\n\\r\\n<!--    table主要区域   -->\\r\\n    <el-table :data=\\\"mySlice(this.tableData)\\\" style=\\\"width: 100%\\\">\\r\\n      <el-table-column  prop=\\\"id\\\" label=\\\"ID\\\" width=\\\"120\\\" align=\\\"center\\\" v-if=\\\"isShow\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column  prop=\\\"refProjectId\\\" label=\\\"项目ID\\\" width=\\\"80\\\" align=\\\"center\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"filename\\\" label=\\\"文件名\\\" width=\\\"200\\\" show-overflow-tooltip><!--tooltip表格列内容过长时显示提示-->\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"totalSizeName\\\" label=\\\"文件大小\\\" width=\\\"200\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"location\\\" label=\\\"location\\\" align=\\\"center\\\" v-if=\\\"isShow\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"identifier\\\" label=\\\"identifier\\\" align=\\\"center\\\" v-if=\\\"isShow\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"uploadTimeString\\\" label=\\\"上传时间\\\" width=\\\"200\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column fixed=\\\"right\\\" label=\\\"操作\\\" align=\\\"center\\\">\\r\\n        <template slot-scope=\\\"scope\\\">\\r\\n          <el-button\\r\\n              type=\\\"text\\\"\\r\\n              icon=\\\"el-icon-download\\\"\\r\\n              class=\\\"blue\\\"\\r\\n              @click=\\\"downloadHandle(scope.$index, scope.row)\\\" size=\\\"small\\\">下载</el-button>\\r\\n          <el-popconfirm\\r\\n            title=\\\"确定删除该文件吗？\\\"\\r\\n            @confirm=\\\"deleteHandle(scope.$index, scope.row)\\\"\\r\\n          >\\r\\n            <el-button\\r\\n              type=\\\"text\\\"\\r\\n              icon=\\\"el-icon-delete\\\"\\r\\n              class=\\\"red\\\"\\r\\n              slot=\\\"reference\\\"\\r\\n              size=\\\"small\\\">删除</el-button>\\r\\n\\r\\n          </el-popconfirm>\\r\\n\\r\\n<!--              删除文件时弹出的警告对话框-->\\r\\n<!--          <el-dialog-->\\r\\n<!--            title=\\\"提示\\\"-->\\r\\n<!--            :visible.sync=\\\"deleteDialogVisible\\\"-->\\r\\n<!--            :before-close=\\\"handleDialogClose\\\"-->\\r\\n<!--            width=\\\"30%\\\">-->\\r\\n<!--            <span>文件删除后不可恢复，您确定需要删除吗？</span>-->\\r\\n<!--            <span slot=\\\"footer\\\" class=\\\"dialog-footer\\\">-->\\r\\n<!--              <el-button @click=\\\"deleteDialogVisible = false\\\">取 消</el-button>-->\\r\\n<!--              <el-button type=\\\"primary\\\" @click=\\\"deleteHandle(scope.$index, scope.row)\\\">确 定</el-button>-->\\r\\n<!--            </span>-->\\r\\n<!--          </el-dialog>-->\\r\\n\\r\\n        </template>\\r\\n      </el-table-column>\\r\\n    </el-table>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    <!--  table主要区域结束  -->\\r\\n\\r\\n    <!--  分页 begin   -->\\r\\n    <!--page-size设置每页几条数据-->\\r\\n    <!--:total设置共几条数据-->\\r\\n    <!--@current-change设置方法绑定点击页码事件-->\\r\\n    <!--设置分页显示功能-->\\r\\n    <el-pagination align=\\\"center\\\"\\r\\n                   background\\r\\n                   @size-change=\\\"handleSizeChange\\\"\\r\\n                   @current-change=\\\"handleCurrentChange\\\"\\r\\n                   :current-page=\\\"query.currentPage\\\"\\r\\n                   :page-sizes=\\\"[1,5,10,20]\\\"\\r\\n                   :page-size=\\\"query.pageSize\\\"\\r\\n                   layout=\\\"total, sizes, prev, pager, next, jumper\\\"\\r\\n                   :total=\\\"total\\\">\\r\\n\\r\\n    </el-pagination>\\r\\n    <!--   分页  end   -->\\r\\n\\r\\n  </el-main>\\r\\n  <!--   主体内容结束     -->\\r\\n\\r\\n  <!--上传附件弹出框 -->\\r\\n  <el-dialog v-dialogDrag title=\\\"文件上传\\\" center :visible.sync=\\\"uploadVisible\\\" width=\\\"60%\\\" :close=\\\"handlerClose\\\">\\r\\n    <UploadBigFile class=\\\"uploadSlot\\\"></UploadBigFile>\\r\\n  </el-dialog>\\r\\n\\r\\n  <el-footer>\\r\\n    <li class=\\\"mr-3 mr-lg-0\\\">© 2020 项目管理, Inc.All rights reserved.</li>\\r\\n  </el-footer>\\r\\n</el-container>\\r\\n</template>\\r\\n<style>\\r\\n.el-header, .el-footer {\\r\\n  background-color: #B3C0D1;\\r\\n  color: #333;\\r\\n  text-align: center;\\r\\n  line-height: 60px;\\r\\n}\\r\\n\\r\\n.el-main {\\r\\n  background-color: #E9EEF3;\\r\\n  color: #333;\\r\\n  text-align: center;\\r\\n  line-height: 80px;\\r\\n}\\r\\n.el-container {\\r\\n  height: 100%;\\r\\n}\\r\\nbody > .el-container {\\r\\n  margin-bottom: 40px;\\r\\n}\\r\\n\\r\\n</style>\\r\\n\\r\\n<script>\\r\\nimport UploadBigFile from './Upload';\\r\\nimport {selectFileList, deleteFile,downloadFile} from \\\"@/api/modules/uploadFile\\\";\\r\\n\\r\\n\\r\\nexport default {\\r\\n  name: 'Home',\\r\\n  data() {\\r\\n    // const item = {\\r\\n    //   id: 1,\\r\\n    //   filename: '板坯识别111111111111111111',\\r\\n    //   total_size: '原晓琴',\\r\\n    //   upload_time: '2016-05-02',\\r\\n    // };\\r\\n    return {\\r\\n      query: {\\r\\n        nameSearch: '',\\r\\n        currentPage: 1,//当前页码\\r\\n        pageSize: 5,   //每页5条数据\\r\\n      },\\r\\n      total: 0,\\r\\n      Height: 0,       //固定底部不随主题内容上下浮动\\r\\n      //tableData: Array(7).fill(item),    //填充测试数据\\r\\n      tableData: [],\\r\\n      nameSearch: '',\\r\\n      multipleSelection: [],\\r\\n      isShow: false,\\r\\n      uploadVisible: false,\\r\\n      form: {},\\r\\n      id: -1,\\r\\n      // 删除文件时警示框的可见性\\r\\n      deleteDialogVisible: false\\r\\n    };\\r\\n  },\\r\\n  //  初始化\\r\\n  created() {\\r\\n    this.getData();\\r\\n  },\\r\\n  methods: {\\r\\n    //从后台获取文件列表\\r\\n    getData() {\\r\\n      selectFileList(this.query).then(res => {\\r\\n        this.tableData = res.data;\\r\\n        if(res.data)\\r\\n        this.total = res.data.length;\\r\\n      })\\r\\n    },\\r\\n\\r\\n    // 关闭上传文件弹出框时触发\\r\\n    handlerClose(){\\r\\n      this.$set(this.query, 'currentPage', 1);\\r\\n      this.getData();\\r\\n    },\\r\\n\\r\\n    //每页条数改变时触发 选择一页显示多少行\\r\\n    handleSizeChange(val) {\\r\\n      console.log(`每页 ${val} 条`);\\r\\n      this.query.currentPage = 1;\\r\\n      this.query.pageSize = val;\\r\\n    },\\r\\n    //当前页改变时触发 跳转其他页\\r\\n    handleCurrentChange(val) {\\r\\n      console.log(`当前页: ${val}`);\\r\\n      this.query.currentPage = val;\\r\\n    },\\r\\n    uploadFiles(){\\r\\n      this.uploadVisible = true;\\r\\n    },\\r\\n\\r\\n    //下载文件操作\\r\\n    async downloadHandle(index, row) {\\r\\n      this.loadingOverLay = this.$loading({\\r\\n        lock: true,\\r\\n        text: '文件生成中',\\r\\n        spinner: 'el-icon-loading',\\r\\n        background: 'rgba(0,0,0,0.7)'\\r\\n      });\\r\\n      downloadFile(row).then(\\r\\n        res => {\\r\\n          // 创建Blob对象，设置文件类型\\r\\n          // window.location.herf=\\\"www.baidu.com\\\";\\r\\n          let fileDownload = require('js-file-download');\\r\\n          fileDownload(res, row.filename);\\r\\n          /*let blob = new Blob([res],{type: \\\"image/jpeg\\\"})\\r\\n          let objectUrl = URL.createObjectURL(blob) // 创建URL\\r\\n          location.href = objectUrl\\r\\n          URL.revokeObjectURL(objectUrl); // 释放内存*/\\r\\n          //fileDownload(res.data, \\\"he.png\\\");\\r\\n        // this.tableData = res.data;\\r\\n        // this.total = res.data.length;\\r\\n      })\\r\\n\\r\\n      var elemIF = document.createElement('iframe');\\r\\n\\r\\n      //elemIF.src = `http://${process.env.BACKEND_API_HOST}`+'/uploader/download?id='+row.id+'&filename='+row.filename+'&location='+row.location;\\r\\n      elemIF.style.display ='none';\\r\\n      document.body.appendChild(elemIF);\\r\\n      this.loadingOverLay.close();\\r\\n    },\\r\\n\\r\\n    //删除文件操作\\r\\n    deleteHandle(index, row) {\\r\\n      let result =  deleteFile(row);\\r\\n      console.log(result);\\r\\n      result.data=1;\\r\\n      if (result.data > 0) {\\r\\n        this.$message.success('删除成功');\\r\\n        this.tableData.splice(index, 1);\\r\\n      }else{\\r\\n        this.$message.error('删除失败');\\r\\n      }\\r\\n    },\\r\\n\\r\\n    // 关闭删除文件警示对话框时调用\\r\\n    handleDialogClose(){\\r\\n        this.deleteDialogVisible = false\\r\\n    },\\r\\n\\r\\n    mySlice(tableData){\\r\\n      if(tableData.length!==0){\\r\\n        return tableData.slice((this.query.currentPage-1)*this.query.pageSize, this.query.currentPage * this.query.pageSize)\\r\\n      }else{return null}\\r\\n    }\\r\\n\\r\\n  },\\r\\n  mounted() {\\r\\n    //动态设置内容高度，让footer始终置底  120是header+footer高度\\r\\n    this.Height = document.documentElement.clientHeight - 120;\\r\\n    //监听浏览器窗口变化\\r\\n    window.onresize = () => {this.Height = document.documentElement.clientHeight - 120}\\r\\n  },\\r\\n\\r\\n  components: {\\r\\n    UploadBigFile\\r\\n  }\\r\\n};\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\n.handle-box {\\r\\n  margin-top: -20px;\\r\\n  margin-bottom: 0px;\\r\\n}\\r\\n.uploadSlot {\\r\\n  margin: -10px 10px 10px 30px;\\r\\n}\\r\\n.red {\\r\\n  color: #ff0000;\\r\\n}\\r\\n.mr10 {\\r\\n  margin-right: 10px;\\r\\n}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-25356852\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=1!./src/views/docs/Download.vue\n// module id = dwJg\n// module chunks = 10","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.el-header, .el-footer {\\r\\n  background-color: #B3C0D1;\\r\\n  color: #333;\\r\\n  text-align: center;\\r\\n  line-height: 60px;\\n}\\n.el-main {\\r\\n  background-color: #E9EEF3;\\r\\n  color: #333;\\r\\n  text-align: center;\\r\\n  line-height: 80px;\\n}\\n.el-container {\\r\\n  height: 100%;\\n}\\nbody > .el-container {\\r\\n  margin-bottom: 40px;\\n}\\r\\n\\r\\n\", \"\", {\"version\":3,\"sources\":[\"C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/docs/src/views/docs/Download.vue\"],\"names\":[],\"mappings\":\";AAmGA;EACA,0BAAA;EACA,YAAA;EACA,mBAAA;EACA,kBAAA;CACA;AAEA;EACA,0BAAA;EACA,YAAA;EACA,mBAAA;EACA,kBAAA;CACA;AACA;EACA,aAAA;CACA;AACA;EACA,oBAAA;CACA\",\"file\":\"Download.vue\",\"sourcesContent\":[\"<template>\\r\\n<el-container>\\r\\n  <el-header style=\\\"text-align: left\\\">    <!--文字居左-->\\r\\n    <div class=\\\"el-icon-folder\\\" :style=\\\"{Height: Height + 'px'}\\\">PM管理系统-文件下载中心</div>\\r\\n\\r\\n  </el-header>\\r\\n  <el-main v-bind:style=\\\"{minHeight: Height+'px'}\\\"><router-view/>\\r\\n\\r\\n\\r\\n<!--    table主要区域   -->\\r\\n    <el-table :data=\\\"mySlice(this.tableData)\\\" style=\\\"width: 100%\\\">\\r\\n      <el-table-column  prop=\\\"id\\\" label=\\\"ID\\\" width=\\\"120\\\" align=\\\"center\\\" v-if=\\\"isShow\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column  prop=\\\"refProjectId\\\" label=\\\"项目ID\\\" width=\\\"80\\\" align=\\\"center\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"filename\\\" label=\\\"文件名\\\" width=\\\"200\\\" show-overflow-tooltip><!--tooltip表格列内容过长时显示提示-->\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"totalSizeName\\\" label=\\\"文件大小\\\" width=\\\"200\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"location\\\" label=\\\"location\\\" align=\\\"center\\\" v-if=\\\"isShow\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"identifier\\\" label=\\\"identifier\\\" align=\\\"center\\\" v-if=\\\"isShow\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column prop=\\\"uploadTimeString\\\" label=\\\"上传时间\\\" width=\\\"200\\\">\\r\\n      </el-table-column>\\r\\n      <el-table-column fixed=\\\"right\\\" label=\\\"操作\\\" align=\\\"center\\\">\\r\\n        <template slot-scope=\\\"scope\\\">\\r\\n          <el-button\\r\\n              type=\\\"text\\\"\\r\\n              icon=\\\"el-icon-download\\\"\\r\\n              class=\\\"blue\\\"\\r\\n              @click=\\\"downloadHandle(scope.$index, scope.row)\\\" size=\\\"small\\\">下载</el-button>\\r\\n          <el-popconfirm\\r\\n            title=\\\"确定删除该文件吗？\\\"\\r\\n            @confirm=\\\"deleteHandle(scope.$index, scope.row)\\\"\\r\\n          >\\r\\n            <el-button\\r\\n              type=\\\"text\\\"\\r\\n              icon=\\\"el-icon-delete\\\"\\r\\n              class=\\\"red\\\"\\r\\n              slot=\\\"reference\\\"\\r\\n              size=\\\"small\\\">删除</el-button>\\r\\n\\r\\n          </el-popconfirm>\\r\\n\\r\\n<!--              删除文件时弹出的警告对话框-->\\r\\n<!--          <el-dialog-->\\r\\n<!--            title=\\\"提示\\\"-->\\r\\n<!--            :visible.sync=\\\"deleteDialogVisible\\\"-->\\r\\n<!--            :before-close=\\\"handleDialogClose\\\"-->\\r\\n<!--            width=\\\"30%\\\">-->\\r\\n<!--            <span>文件删除后不可恢复，您确定需要删除吗？</span>-->\\r\\n<!--            <span slot=\\\"footer\\\" class=\\\"dialog-footer\\\">-->\\r\\n<!--              <el-button @click=\\\"deleteDialogVisible = false\\\">取 消</el-button>-->\\r\\n<!--              <el-button type=\\\"primary\\\" @click=\\\"deleteHandle(scope.$index, scope.row)\\\">确 定</el-button>-->\\r\\n<!--            </span>-->\\r\\n<!--          </el-dialog>-->\\r\\n\\r\\n        </template>\\r\\n      </el-table-column>\\r\\n    </el-table>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    <!--  table主要区域结束  -->\\r\\n\\r\\n    <!--  分页 begin   -->\\r\\n    <!--page-size设置每页几条数据-->\\r\\n    <!--:total设置共几条数据-->\\r\\n    <!--@current-change设置方法绑定点击页码事件-->\\r\\n    <!--设置分页显示功能-->\\r\\n    <el-pagination align=\\\"center\\\"\\r\\n                   background\\r\\n                   @size-change=\\\"handleSizeChange\\\"\\r\\n                   @current-change=\\\"handleCurrentChange\\\"\\r\\n                   :current-page=\\\"query.currentPage\\\"\\r\\n                   :page-sizes=\\\"[1,5,10,20]\\\"\\r\\n                   :page-size=\\\"query.pageSize\\\"\\r\\n                   layout=\\\"total, sizes, prev, pager, next, jumper\\\"\\r\\n                   :total=\\\"total\\\">\\r\\n\\r\\n    </el-pagination>\\r\\n    <!--   分页  end   -->\\r\\n\\r\\n  </el-main>\\r\\n  <!--   主体内容结束     -->\\r\\n\\r\\n  <!--上传附件弹出框 -->\\r\\n  <el-dialog v-dialogDrag title=\\\"文件上传\\\" center :visible.sync=\\\"uploadVisible\\\" width=\\\"60%\\\" :close=\\\"handlerClose\\\">\\r\\n    <UploadBigFile class=\\\"uploadSlot\\\"></UploadBigFile>\\r\\n  </el-dialog>\\r\\n\\r\\n  <el-footer>\\r\\n    <li class=\\\"mr-3 mr-lg-0\\\">© 2020 项目管理, Inc.All rights reserved.</li>\\r\\n  </el-footer>\\r\\n</el-container>\\r\\n</template>\\r\\n<style>\\r\\n.el-header, .el-footer {\\r\\n  background-color: #B3C0D1;\\r\\n  color: #333;\\r\\n  text-align: center;\\r\\n  line-height: 60px;\\r\\n}\\r\\n\\r\\n.el-main {\\r\\n  background-color: #E9EEF3;\\r\\n  color: #333;\\r\\n  text-align: center;\\r\\n  line-height: 80px;\\r\\n}\\r\\n.el-container {\\r\\n  height: 100%;\\r\\n}\\r\\nbody > .el-container {\\r\\n  margin-bottom: 40px;\\r\\n}\\r\\n\\r\\n</style>\\r\\n\\r\\n<script>\\r\\nimport UploadBigFile from './Upload';\\r\\nimport {selectFileList, deleteFile,downloadFile} from \\\"@/api/modules/uploadFile\\\";\\r\\n\\r\\n\\r\\nexport default {\\r\\n  name: 'Home',\\r\\n  data() {\\r\\n    // const item = {\\r\\n    //   id: 1,\\r\\n    //   filename: '板坯识别111111111111111111',\\r\\n    //   total_size: '原晓琴',\\r\\n    //   upload_time: '2016-05-02',\\r\\n    // };\\r\\n    return {\\r\\n      query: {\\r\\n        nameSearch: '',\\r\\n        currentPage: 1,//当前页码\\r\\n        pageSize: 5,   //每页5条数据\\r\\n      },\\r\\n      total: 0,\\r\\n      Height: 0,       //固定底部不随主题内容上下浮动\\r\\n      //tableData: Array(7).fill(item),    //填充测试数据\\r\\n      tableData: [],\\r\\n      nameSearch: '',\\r\\n      multipleSelection: [],\\r\\n      isShow: false,\\r\\n      uploadVisible: false,\\r\\n      form: {},\\r\\n      id: -1,\\r\\n      // 删除文件时警示框的可见性\\r\\n      deleteDialogVisible: false\\r\\n    };\\r\\n  },\\r\\n  //  初始化\\r\\n  created() {\\r\\n    this.getData();\\r\\n  },\\r\\n  methods: {\\r\\n    //从后台获取文件列表\\r\\n    getData() {\\r\\n      selectFileList(this.query).then(res => {\\r\\n        this.tableData = res.data;\\r\\n        if(res.data)\\r\\n        this.total = res.data.length;\\r\\n      })\\r\\n    },\\r\\n\\r\\n    // 关闭上传文件弹出框时触发\\r\\n    handlerClose(){\\r\\n      this.$set(this.query, 'currentPage', 1);\\r\\n      this.getData();\\r\\n    },\\r\\n\\r\\n    //每页条数改变时触发 选择一页显示多少行\\r\\n    handleSizeChange(val) {\\r\\n      console.log(`每页 ${val} 条`);\\r\\n      this.query.currentPage = 1;\\r\\n      this.query.pageSize = val;\\r\\n    },\\r\\n    //当前页改变时触发 跳转其他页\\r\\n    handleCurrentChange(val) {\\r\\n      console.log(`当前页: ${val}`);\\r\\n      this.query.currentPage = val;\\r\\n    },\\r\\n    uploadFiles(){\\r\\n      this.uploadVisible = true;\\r\\n    },\\r\\n\\r\\n    //下载文件操作\\r\\n    async downloadHandle(index, row) {\\r\\n      this.loadingOverLay = this.$loading({\\r\\n        lock: true,\\r\\n        text: '文件生成中',\\r\\n        spinner: 'el-icon-loading',\\r\\n        background: 'rgba(0,0,0,0.7)'\\r\\n      });\\r\\n      downloadFile(row).then(\\r\\n        res => {\\r\\n          // 创建Blob对象，设置文件类型\\r\\n          // window.location.herf=\\\"www.baidu.com\\\";\\r\\n          let fileDownload = require('js-file-download');\\r\\n          fileDownload(res, row.filename);\\r\\n          /*let blob = new Blob([res],{type: \\\"image/jpeg\\\"})\\r\\n          let objectUrl = URL.createObjectURL(blob) // 创建URL\\r\\n          location.href = objectUrl\\r\\n          URL.revokeObjectURL(objectUrl); // 释放内存*/\\r\\n          //fileDownload(res.data, \\\"he.png\\\");\\r\\n        // this.tableData = res.data;\\r\\n        // this.total = res.data.length;\\r\\n      })\\r\\n\\r\\n      var elemIF = document.createElement('iframe');\\r\\n\\r\\n      //elemIF.src = `http://${process.env.BACKEND_API_HOST}`+'/uploader/download?id='+row.id+'&filename='+row.filename+'&location='+row.location;\\r\\n      elemIF.style.display ='none';\\r\\n      document.body.appendChild(elemIF);\\r\\n      this.loadingOverLay.close();\\r\\n    },\\r\\n\\r\\n    //删除文件操作\\r\\n    deleteHandle(index, row) {\\r\\n      let result =  deleteFile(row);\\r\\n      console.log(result);\\r\\n      result.data=1;\\r\\n      if (result.data > 0) {\\r\\n        this.$message.success('删除成功');\\r\\n        this.tableData.splice(index, 1);\\r\\n      }else{\\r\\n        this.$message.error('删除失败');\\r\\n      }\\r\\n    },\\r\\n\\r\\n    // 关闭删除文件警示对话框时调用\\r\\n    handleDialogClose(){\\r\\n        this.deleteDialogVisible = false\\r\\n    },\\r\\n\\r\\n    mySlice(tableData){\\r\\n      if(tableData.length!==0){\\r\\n        return tableData.slice((this.query.currentPage-1)*this.query.pageSize, this.query.currentPage * this.query.pageSize)\\r\\n      }else{return null}\\r\\n    }\\r\\n\\r\\n  },\\r\\n  mounted() {\\r\\n    //动态设置内容高度，让footer始终置底  120是header+footer高度\\r\\n    this.Height = document.documentElement.clientHeight - 120;\\r\\n    //监听浏览器窗口变化\\r\\n    window.onresize = () => {this.Height = document.documentElement.clientHeight - 120}\\r\\n  },\\r\\n\\r\\n  components: {\\r\\n    UploadBigFile\\r\\n  }\\r\\n};\\r\\n</script>\\r\\n\\r\\n<style scoped>\\r\\n.handle-box {\\r\\n  margin-top: -20px;\\r\\n  margin-bottom: 0px;\\r\\n}\\r\\n.uploadSlot {\\r\\n  margin: -10px 10px 10px 30px;\\r\\n}\\r\\n.red {\\r\\n  color: #ff0000;\\r\\n}\\r\\n.mr10 {\\r\\n  margin-right: 10px;\\r\\n}\\r\\n</style>\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-25356852\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/docs/Download.vue\n// module id = zCZk\n// module chunks = 10"],"sourceRoot":""}