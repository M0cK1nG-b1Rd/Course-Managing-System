webpackJsonp([28],{"1sow":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"MovieHot",data:function(){return{loading:!0,detailShow:!1,movies:[],span:"",screenWidth:document.body.clientWidth,timer:null,movieDetail:{boxOffice:{todayBoxDesUnit:"",todayBoxDes:"",totalBoxUnit:"",totalBoxDes:""},basic:{img:"",actors:[],director:{img:"",name:""}}},activeKey:"1",detailLoading:!0,comments:[]}},methods:{detail:function(n){var t=this;this.activeKey="1",this.detailShow=!0,this.detailLoading=!0,this.$get("movie/detail?id="+n).then(function(e){var a=JSON.parse(e.data.data);a=a.data,t.movieDetail=a,t.detailLoading=!1,t.$get("movie/comments?id="+n).then(function(n){var e=JSON.parse(n.data.data);e=e.data,t.comments=t.comments.concat(e.mini.list),t.comments=t.comments.concat(e.plus.list)})})},detailClose:function(){this.detailShow=!1,this.comments=[]},video:function(n){window.open(n)},changeTab:function(n){this.activeKey=n},getDate:function(n){return new Date(1e3*n).toLocaleString()}},mounted:function(){var n=this,t=this,e=window.innerWidth;this.span=e>1660?4:e>1250?6:e>1e3?8:e>900?10:12,window.onresize=function(){return window.screenWidth=document.body.clientWidth,void(t.screenWidth=window.screenWidth)},this.$get("movie/hot").then(function(t){var e=JSON.parse(t.data.data);n.movies=e.ms,n.loading=!1})},watch:{screenWidth:function(n){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.screenWidth=n,t.span=n>1660?4:n>1250?6:n>1e3?8:n>900?10:12},100)}}},i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("a-skeleton",{attrs:{active:"",loading:n.loading,paragraph:{rows:24}}},[e("div",{staticStyle:{padding:"10px"}},[e("a-row",n._l(n.movies,function(t,a){return e("a-col",{key:a,staticStyle:{padding:"1rem"},attrs:{span:n.span}},[e("a-card",{staticClass:"movie-card",staticStyle:{width:"200px"},on:{click:function(e){return n.detail(t.id)}}},[e("img",{staticStyle:{width:"198px",height:"300px"},attrs:{src:t.img,alt:"海报"}}),n._v(" "),e("div",{staticClass:"movie-desc"},[e("div",{staticClass:"movie-title",attrs:{title:t.tCn}},[e("p",[n._v(n._s(t.tCn))])]),n._v(" "),e("p",{staticStyle:{color:"#aaa","margin-bottom":"0"}},[n._v(n._s(t.movieType))]),n._v(" "),e("div",{staticClass:"movie-score",staticStyle:{"margin-bottom":".5rem"}},[t.r<1?e("a-rate",{attrs:{defaultValue:.5,allowHalf:"",disabled:""}}):t.r<2?e("a-rate",{attrs:{defaultValue:1,allowHalf:"",disabled:""}}):t.r<3?e("a-rate",{attrs:{defaultValue:1.5,allowHalf:"",disabled:""}}):t.r<4?e("a-rate",{attrs:{defaultValue:2,allowHalf:"",disabled:""}}):t.r<5?e("a-rate",{attrs:{defaultValue:2.5,allowHalf:"",disabled:""}}):t.r<6?e("a-rate",{attrs:{defaultValue:3,allowHalf:"",disabled:""}}):t.r<7?e("a-rate",{attrs:{defaultValue:3.5,allowHalf:"",disabled:""}}):t.r<8?e("a-rate",{attrs:{defaultValue:4,allowHalf:"",disabled:""}}):t.r<9?e("a-rate",{attrs:{defaultValue:4.5,allowHalf:"",disabled:""}}):t.r<10?e("a-rate",{attrs:{defaultValue:5,allowHalf:"",disabled:""}}):e("a-rate",{attrs:{defaultValue:0,allowHalf:"",disabled:""}}),n._v(" "),e("span",{staticStyle:{color:"#aaa","font-weight":"600"}},[n._v(n._s(-1===t.r?"暂无":t.r))])],1)])])],1)}),1),n._v(" "),e("a-modal",{staticClass:"movie-detail",attrs:{width:700,keyboard:!1,centered:!0,maskClosable:!1,mask:!1,footer:null},on:{cancel:n.detailClose},model:{value:n.detailShow,callback:function(t){n.detailShow=t},expression:"detailShow"}},[e("a-tabs",{ref:"movieTabs",attrs:{activeKey:n.activeKey},on:{change:n.changeTab}},[e("a-tab-pane",{key:"1",attrs:{tab:"电影详情"}},[e("a-skeleton",{attrs:{active:"",loading:n.detailLoading,paragraph:{rows:14}}},[e("span",[e("a-row",{attrs:{gutter:2}},[e("a-col",{staticClass:"poster",attrs:{span:12}},[e("img",{staticClass:"poster-img",attrs:{alt:"电影海报",src:n.movieDetail.basic.img}})]),n._v(" "),e("a-col",{attrs:{span:12}},[e("p",[n._v("片名："+n._s(n.movieDetail.basic.name))]),n._v(" "),e("p",[n._v("片长："+n._s(n.movieDetail.basic.mins))]),n._v(" "),e("p",[n._v("是否3D："+n._s(n.movieDetail.basic.is3D?"是":"否"))]),n._v(" "),e("p",[n._v("是否IMAX："+n._s(n.movieDetail.basic.isIMAX?"是":"否"))]),n._v(" "),e("p",[n._v("上映日期："+n._s(n.movieDetail.basic.releaseDate))]),n._v(" "),e("p",[n._v("上映国家 / 地区："+n._s(n.movieDetail.basic.releaseArea))]),n._v(" "),e("p",[n._v("综合评分："+n._s(-1===n.movieDetail.basic.overallRating?"暂无评分":n.movieDetail.basic.overallRating))]),n._v(" "),n.movieDetail.boxOffice.todayBoxDesUnit?e("p",[n._v(n._s(n.movieDetail.boxOffice.todayBoxDesUnit)+"："+n._s(n.movieDetail.boxOffice.todayBoxDes))]):n._e(),n._v(" "),n.movieDetail.boxOffice.totalBoxUnit?e("p",[n._v(n._s(n.movieDetail.boxOffice.totalBoxUnit)+"："+n._s(n.movieDetail.boxOffice.totalBoxDes))]):n._e(),n._v(" "),e("p",[n._v("预告片："),e("a",{on:{click:function(t){return n.video(n.movieDetail.basic.video.hightUrl)}}},[n._v("点击查看")])]),n._v(" "),e("a-popover",{attrs:{title:n.movieDetail.basic.director.name}},[e("template",{slot:"content"},[e("img",{staticStyle:{width:"140px",height:"180px"},attrs:{alt:"头像",src:n.movieDetail.basic.director.img}})]),n._v(" "),e("p",[n._v("导演："),e("a",[n._v(n._s(n.movieDetail.basic.director.name))])])],2),n._v(" "),e("div",{staticStyle:{"margin-bottom":".4rem"}},[n._v("\n                  主演：\n                  "),n._l(n.movieDetail.basic.actors,function(t,a){return[e("a-popover",{key:a,attrs:{title:t.name}},[e("template",{slot:"content"},[e("div",[e("p",{staticStyle:{"max-width":"140px"}},[n._v("扮演："+n._s(t.roleName?t.roleName:"未知 X_X"))]),n._v(" "),e("img",{staticStyle:{width:"140px",height:"180px"},attrs:{alt:"头像",src:t.img}})])]),n._v(" "),t.name?e("span",[0===a?e("span",[e("a",{staticStyle:{"margin-left":"-6px"}},[n._v(n._s(t.name))]),n._v(" · ")]):a===n.movieDetail.basic.actors.length-1?e("span",[e("a",[n._v(n._s(t.name))])]):e("span",[e("a",[n._v(n._s(t.name))]),n._v(" · ")])]):n._e()],2)]})],2)],1)],1),n._v(" "),e("a-row",[e("a-col",[e("a-divider",{attrs:{orientation:"left"}},[n._v("电影简介")]),n._v(" "),e("div",{staticStyle:{"text-indent":"1rem","margin-bottom":"2rem"}},[n._v(n._s(n.movieDetail.basic.story))])],1)],1)],1)])],1),n._v(" "),e("a-tab-pane",{key:"2",attrs:{tab:"电影评论"}},[e("div",[e("a-list",{attrs:{itemLayout:"horizontal",dataSource:n.comments},scopedSlots:n._u([{key:"renderItem",fn:function(t,a){return e("a-list-item",{},[e("a-list-item-meta",{attrs:{description:t.content}},[e("div",{attrs:{slot:"title"},slot:"title"},[n._v("\n                  "+n._s(t.nickname)+" \n                  "),e("span",{staticStyle:{color:"#aaa","font-weight":"400","font-size":"13px"}},[n._v(n._s(n.getDate(t.commentDate)))])]),n._v(" "),e("a-avatar",{attrs:{slot:"avatar",src:t.headImg},slot:"avatar"})],1)],1)}}])})],1)])],1)],1)],1)])};i._withStripped=!0;var o={render:i,staticRenderFns:[]},s=o;var r=!1;var l=e("VU/8")(a,s,!1,function(n){r||e("VDqO")},null,null);l.options.__file="src/views/web/MovieHot.vue";t.default=l.exports},VDqO:function(n,t,e){var a=e("gcj7");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("40c2cae8",a,!1,{})},gcj7:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.movie-card .ant-card-body {\n  padding: 0 !important;\n}\n.movie-card .movie-desc {\n  padding: 1rem 0 0 0;\n  text-align: center;\n}\n.movie-card .movie-desc .movie-title {\n  font-size: 0.9rem;\n}\n.movie-card .movie-desc .movie-title p {\n  margin-bottom: 0 !important;\n}\n.movie-card:hover {\n  cursor: pointer;\n  -webkit-box-shadow: 4px 0 8px 0 rgba(29, 35, 41, 0.1);\n          box-shadow: 4px 0 8px 0 rgba(29, 35, 41, 0.1);\n}\n.movie-detail p {\n  margin-bottom: 0.4rem;\n}\n.movie-detail .poster {\n  margin-right: -4rem;\n}\n.movie-detail .poster .poster-img {\n  width: 198px;\n  height: 300px;\n}\n","",{version:3,sources:["C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/web/C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/web/MovieHot.vue","C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/web/MovieHot.vue"],names:[],mappings:";AAsOA;EAEI,sBAAA;CCtOH;ADoOD;EAKI,oBAAA;EACA,mBAAA;CCtOH;ADgOD;EAQM,kBAAA;CCrOL;AD6ND;EAUQ,4BAAA;CCpOP;ADwOC;EACE,gBAAA;EACA,sDAAA;UAAA,8CAAA;CCtOH;ADyOD;EAEI,sBAAA;CCxOH;ADsOD;EAKI,oBAAA;CCxOH;ADmOD;EAOM,aAAA;EACA,cAAA;CCvOL",file:"MovieHot.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.movie-card {\n  .ant-card-body {\n    padding: 0 !important;\n  }\n  .movie-desc {\n    padding: 1rem 0 0 0;\n    text-align: center;\n    .movie-title {\n      font-size: .9rem;\n      p {\n        margin-bottom: 0 !important;\n      }\n    }\n  }\n  &:hover {\n    cursor: pointer;\n    box-shadow: 4px 0 8px 0 rgba(29, 35, 41, 0.1);\n  }\n}\n.movie-detail {\n  p {\n    margin-bottom: .4rem;\n  }\n  .poster {\n    margin-right: -4rem;\n    .poster-img {\n      width: 198px;\n      height: 300px;\n    }\n  }\n}\n",".movie-card .ant-card-body {\n  padding: 0 !important;\n}\n.movie-card .movie-desc {\n  padding: 1rem 0 0 0;\n  text-align: center;\n}\n.movie-card .movie-desc .movie-title {\n  font-size: 0.9rem;\n}\n.movie-card .movie-desc .movie-title p {\n  margin-bottom: 0 !important;\n}\n.movie-card:hover {\n  cursor: pointer;\n  box-shadow: 4px 0 8px 0 rgba(29, 35, 41, 0.1);\n}\n.movie-detail p {\n  margin-bottom: 0.4rem;\n}\n.movie-detail .poster {\n  margin-right: -4rem;\n}\n.movie-detail .poster .poster-img {\n  width: 198px;\n  height: 300px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=28.76423d334cbc706e9e17.js.map