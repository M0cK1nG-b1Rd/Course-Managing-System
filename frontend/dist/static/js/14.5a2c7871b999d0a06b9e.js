webpackJsonp([14],{"3tke":function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=r("Xxa5"),l=r.n(t),a=r("exGp"),o=r.n(a),i=r("QqOR"),c=r("UKzA"),s={name:"User",data:function(){return{query:{nameSearch:"",currentPage:1,pageSize:5},total:0,Height:0,tableData:[],nameSearch:"",isShow:!1,uploadVisible:!1,form:{},id:-1}},created:function(){this.getData()},methods:{getData:function(){var e=this;Object(c.d)(this.query).then(function(n){e.tableData=n.data,e.total=n.data.length})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.query.currentPage=1,this.query.pageSize=e},handleCurrentChange:function(e){console.log("当前页: "+e),this.query.currentPage=e},downloadHandle:function(e,n){var r=this;return o()(l.a.mark(function e(){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.loadingOverLay=r.$loading({lock:!0,text:"文件生成中",spinner:"el-icon-loading",background:"rgba(0,0,0,0.7)"}),(n=document.createElement("iframe")).style.display="none",document.body.appendChild(n),r.loadingOverLay.close();case 5:case"end":return e.stop()}},e,r)}))()}},mounted:function(){var e=this;this.Height=document.documentElement.clientHeight-120,window.onresize=function(){e.Height=document.documentElement.clientHeight-120}},components:{UploadBigFile:i.default}},d=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("el-container",[r("el-header",{staticStyle:{"text-align":"left"}},[r("div",{staticClass:"el-icon-folder",style:{Height:e.Height+"px"}},[e._v("简易文件管理")])]),e._v(" "),r("el-main",{style:{minHeight:e.Height+"px"}},[r("router-view"),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.query.currentPage-1)*e.query.pageSize,e.query.currentPage*e.query.pageSize)}},[e.isShow?r("el-table-column",{attrs:{prop:"id",label:"ID",width:"120",align:"center"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"filename",label:"文件名",width:"500","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"totalSizeName",label:"文件大小",width:"200"}}),e._v(" "),e.isShow?r("el-table-column",{attrs:{prop:"location",label:"location",align:"center"}}):e._e(),e._v(" "),e.isShow?r("el-table-column",{attrs:{prop:"identifier",label:"identifier",align:"center"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"uploadTimeString",label:"上传时间",width:"300"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("el-button",{staticClass:"blue",attrs:{type:"text",icon:"el-icon-download",size:"small"},on:{click:function(r){return e.downloadHandle(n.$index,n.row)}}},[e._v("下载")])]}}])})],1),e._v(" "),r("el-pagination",{attrs:{align:"center",background:"","current-page":e.query.currentPage,"page-sizes":[1,5,10,20],"page-size":e.query.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),r("el-footer",[r("li",{staticClass:"mr-3 mr-lg-0"},[e._v("© 2020 项目管理, Inc.All rights reserved.")])])],1)};d._withStripped=!0;var u={render:d,staticRenderFns:[]},p=u;var g=!1;var h=r("VU/8")(s,p,!1,function(e){g||(r("HXJa"),r("OyE9"))},"data-v-20e08e78",null);h.options.__file="src/views/docs/Index.vue";n.default=h.exports},HXJa:function(e,n,r){var t=r("dSFG");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);r("rjj0")("3e3a0a24",t,!1,{})},OyE9:function(e,n,r){var t=r("UWVR");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);r("rjj0")("c2e25344",t,!1,{})},UWVR:function(e,n,r){(e.exports=r("FZ+f")(!0)).push([e.i,"\n.handle-box[data-v-20e08e78] {\r\n  margin-top: -20px;\r\n  margin-bottom: 0px;\n}\n.uploadSlot[data-v-20e08e78] {\r\n  margin: -10px 10px 10px 30px;\n}\n.red[data-v-20e08e78] {\r\n  color: #ff0000;\n}\n.mr10[data-v-20e08e78] {\r\n  margin-right: 10px;\n}\r\n","",{version:3,sources:["C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/docs/src/views/docs/Index.vue"],names:[],mappings:";AAuKA;EACA,kBAAA;EACA,mBAAA;CACA;AACA;EACA,6BAAA;CACA;AACA;EACA,eAAA;CACA;AACA;EACA,mBAAA;CACA",file:"Index.vue",sourcesContent:['<template>\r\n  <el-container>\r\n    <el-header style="text-align: left">    \x3c!--文字居左--\x3e\r\n      <div class="el-icon-folder" :style="{Height: Height + \'px\'}">简易文件管理</div>\r\n\r\n    </el-header>\r\n    <el-main v-bind:style="{minHeight: Height+\'px\'}"><router-view/>\r\n\r\n      \x3c!--    table主要区域   --\x3e\r\n      <el-table :data="tableData.slice((query.currentPage-1)*query.pageSize, query.currentPage * query.pageSize)" style="width: 100%">\r\n        <el-table-column  prop="id" label="ID" width="120" align="center" v-if="isShow">\r\n        </el-table-column>\r\n        <el-table-column prop="filename" label="文件名" width="500" show-overflow-tooltip>\x3c!--tooltip表格列内容过长时显示提示--\x3e\r\n        </el-table-column>\r\n        <el-table-column prop="totalSizeName" label="文件大小" width="200">\r\n        </el-table-column>\r\n        <el-table-column prop="location" label="location" align="center" v-if="isShow">\r\n        </el-table-column>\r\n        <el-table-column prop="identifier" label="identifier" align="center" v-if="isShow">\r\n        </el-table-column>\r\n        <el-table-column prop="uploadTimeString" label="上传时间" width="300">\r\n        </el-table-column>\r\n        <el-table-column fixed="right" label="操作" align="center">\r\n          <template slot-scope="scope">\r\n            <el-button\r\n                type="text"\r\n                icon="el-icon-download"\r\n                class="blue"\r\n                @click="downloadHandle(scope.$index, scope.row)" size="small">下载</el-button>\r\n\x3c!--            <el-button--\x3e\r\n\x3c!--                type="text"--\x3e\r\n\x3c!--                icon="el-icon-download"--\x3e\r\n\x3c!--                class="red"--\x3e\r\n\x3c!--                @click="deleteHandle(scope.$index, scope.row)" size="small" disabled>删除</el-button>--\x3e\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      \x3c!--  table主要区域结束  --\x3e\r\n\r\n      \x3c!--  分页 begin   --\x3e\r\n      \x3c!--page-size设置每页几条数据--\x3e\r\n      \x3c!--:total设置共几条数据--\x3e\r\n      \x3c!--@current-change设置方法绑定点击页码事件--\x3e\r\n      \x3c!--设置分页显示功能--\x3e\r\n      <el-pagination align="center"\r\n                     background\r\n                     @size-change="handleSizeChange"\r\n                     @current-change="handleCurrentChange"\r\n                     :current-page="query.currentPage"\r\n                     :page-sizes="[1,5,10,20]"\r\n                     :page-size="query.pageSize"\r\n                     layout="total, sizes, prev, pager, next, jumper"\r\n                     :total="total">\r\n\r\n      </el-pagination>\r\n      \x3c!--   分页  end   --\x3e\r\n\r\n    </el-main>\r\n    \x3c!--   主体内容结束     --\x3e\r\n\r\n    <el-footer>\r\n      <li class="mr-3 mr-lg-0">© 2020 项目管理, Inc.All rights reserved.</li>\r\n    </el-footer>\r\n  </el-container>\r\n</template>\r\n<style>\r\n.el-header, .el-footer {\r\n  background-color: #B3C0D1;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n\r\n.el-main {\r\n  background-color: #E9EEF3;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 80px;\r\n}\r\n.el-container {\r\n  height: 100%;\r\n}\r\nbody > .el-container {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport UploadBigFile from \'./Upload\';\r\nimport {selectFileList, deleteFile} from "@/api/modules/uploadFile";\r\n\r\nexport default {\r\n  name: \'User\',\r\n  data() {\r\n    return {\r\n      query: {\r\n        nameSearch: \'\',\r\n        currentPage: 1,//当前页码\r\n        pageSize: 5,   //每页5条数据\r\n      },\r\n      total: 0,\r\n      Height: 0,       //固定底部不随主题内容上下浮动\r\n      //tableData: Array(7).fill(item),    //填充测试数据\r\n      tableData: [],\r\n      nameSearch: \'\',\r\n      isShow: false,\r\n      uploadVisible: false,\r\n      form: {},\r\n      id: -1\r\n    };\r\n  },\r\n  //  初始化\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    //从后台获取文件列表\r\n    getData() {\r\n      selectFileList(this.query).then(res => {\r\n        this.tableData = res.data;\r\n        this.total = res.data.length;\r\n\r\n      })\r\n    },\r\n\r\n    //每页条数改变时触发 选择一页显示多少行\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.query.currentPage = 1;\r\n      this.query.pageSize = val;\r\n    },\r\n    //当前页改变时触发 跳转其他页\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.query.currentPage = val;\r\n    },\r\n\r\n    //下载文件操作\r\n    async downloadHandle(index, row) {\r\n      this.loadingOverLay = this.$loading({\r\n        lock: true,\r\n        text: \'文件生成中\',\r\n        spinner: \'el-icon-loading\',\r\n        background: \'rgba(0,0,0,0.7)\'\r\n      });\r\n      var elemIF = document.createElement(\'iframe\');\r\n      //elemIF.src = `http://${process.env.BACKEND_API_HOST}`+\'/uploader/download?id=\'+row.id+\'&filename=\'+row.filename+\'&location=\'+row.location;\r\n      elemIF.style.display =\'none\';\r\n      document.body.appendChild(elemIF);\r\n      this.loadingOverLay.close();\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n    //动态设置内容高度，让footer始终置底  120是header+footer高度\r\n    this.Height = document.documentElement.clientHeight - 120;\r\n    //监听浏览器窗口变化\r\n    window.onresize = () => {this.Height = document.documentElement.clientHeight - 120}\r\n  },\r\n  components: {\r\n    UploadBigFile\r\n  }\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n  margin-top: -20px;\r\n  margin-bottom: 0px;\r\n}\r\n.uploadSlot {\r\n  margin: -10px 10px 10px 30px;\r\n}\r\n.red {\r\n  color: #ff0000;\r\n}\r\n.mr10 {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n'],sourceRoot:""}])},dSFG:function(e,n,r){(e.exports=r("FZ+f")(!0)).push([e.i,"\n.el-header, .el-footer {\r\n  background-color: #B3C0D1;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 60px;\n}\n.el-main {\r\n  background-color: #E9EEF3;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 80px;\n}\n.el-container {\r\n  height: 100%;\n}\nbody > .el-container {\r\n  margin-bottom: 40px;\n}\r\n\r\n","",{version:3,sources:["C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/docs/src/views/docs/Index.vue"],names:[],mappings:";AAkEA;EACA,0BAAA;EACA,YAAA;EACA,mBAAA;EACA,kBAAA;CACA;AAEA;EACA,0BAAA;EACA,YAAA;EACA,mBAAA;EACA,kBAAA;CACA;AACA;EACA,aAAA;CACA;AACA;EACA,oBAAA;CACA",file:"Index.vue",sourcesContent:['<template>\r\n  <el-container>\r\n    <el-header style="text-align: left">    \x3c!--文字居左--\x3e\r\n      <div class="el-icon-folder" :style="{Height: Height + \'px\'}">简易文件管理</div>\r\n\r\n    </el-header>\r\n    <el-main v-bind:style="{minHeight: Height+\'px\'}"><router-view/>\r\n\r\n      \x3c!--    table主要区域   --\x3e\r\n      <el-table :data="tableData.slice((query.currentPage-1)*query.pageSize, query.currentPage * query.pageSize)" style="width: 100%">\r\n        <el-table-column  prop="id" label="ID" width="120" align="center" v-if="isShow">\r\n        </el-table-column>\r\n        <el-table-column prop="filename" label="文件名" width="500" show-overflow-tooltip>\x3c!--tooltip表格列内容过长时显示提示--\x3e\r\n        </el-table-column>\r\n        <el-table-column prop="totalSizeName" label="文件大小" width="200">\r\n        </el-table-column>\r\n        <el-table-column prop="location" label="location" align="center" v-if="isShow">\r\n        </el-table-column>\r\n        <el-table-column prop="identifier" label="identifier" align="center" v-if="isShow">\r\n        </el-table-column>\r\n        <el-table-column prop="uploadTimeString" label="上传时间" width="300">\r\n        </el-table-column>\r\n        <el-table-column fixed="right" label="操作" align="center">\r\n          <template slot-scope="scope">\r\n            <el-button\r\n                type="text"\r\n                icon="el-icon-download"\r\n                class="blue"\r\n                @click="downloadHandle(scope.$index, scope.row)" size="small">下载</el-button>\r\n\x3c!--            <el-button--\x3e\r\n\x3c!--                type="text"--\x3e\r\n\x3c!--                icon="el-icon-download"--\x3e\r\n\x3c!--                class="red"--\x3e\r\n\x3c!--                @click="deleteHandle(scope.$index, scope.row)" size="small" disabled>删除</el-button>--\x3e\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      \x3c!--  table主要区域结束  --\x3e\r\n\r\n      \x3c!--  分页 begin   --\x3e\r\n      \x3c!--page-size设置每页几条数据--\x3e\r\n      \x3c!--:total设置共几条数据--\x3e\r\n      \x3c!--@current-change设置方法绑定点击页码事件--\x3e\r\n      \x3c!--设置分页显示功能--\x3e\r\n      <el-pagination align="center"\r\n                     background\r\n                     @size-change="handleSizeChange"\r\n                     @current-change="handleCurrentChange"\r\n                     :current-page="query.currentPage"\r\n                     :page-sizes="[1,5,10,20]"\r\n                     :page-size="query.pageSize"\r\n                     layout="total, sizes, prev, pager, next, jumper"\r\n                     :total="total">\r\n\r\n      </el-pagination>\r\n      \x3c!--   分页  end   --\x3e\r\n\r\n    </el-main>\r\n    \x3c!--   主体内容结束     --\x3e\r\n\r\n    <el-footer>\r\n      <li class="mr-3 mr-lg-0">© 2020 项目管理, Inc.All rights reserved.</li>\r\n    </el-footer>\r\n  </el-container>\r\n</template>\r\n<style>\r\n.el-header, .el-footer {\r\n  background-color: #B3C0D1;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n\r\n.el-main {\r\n  background-color: #E9EEF3;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 80px;\r\n}\r\n.el-container {\r\n  height: 100%;\r\n}\r\nbody > .el-container {\r\n  margin-bottom: 40px;\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport UploadBigFile from \'./Upload\';\r\nimport {selectFileList, deleteFile} from "@/api/modules/uploadFile";\r\n\r\nexport default {\r\n  name: \'User\',\r\n  data() {\r\n    return {\r\n      query: {\r\n        nameSearch: \'\',\r\n        currentPage: 1,//当前页码\r\n        pageSize: 5,   //每页5条数据\r\n      },\r\n      total: 0,\r\n      Height: 0,       //固定底部不随主题内容上下浮动\r\n      //tableData: Array(7).fill(item),    //填充测试数据\r\n      tableData: [],\r\n      nameSearch: \'\',\r\n      isShow: false,\r\n      uploadVisible: false,\r\n      form: {},\r\n      id: -1\r\n    };\r\n  },\r\n  //  初始化\r\n  created() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    //从后台获取文件列表\r\n    getData() {\r\n      selectFileList(this.query).then(res => {\r\n        this.tableData = res.data;\r\n        this.total = res.data.length;\r\n\r\n      })\r\n    },\r\n\r\n    //每页条数改变时触发 选择一页显示多少行\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n      this.query.currentPage = 1;\r\n      this.query.pageSize = val;\r\n    },\r\n    //当前页改变时触发 跳转其他页\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n      this.query.currentPage = val;\r\n    },\r\n\r\n    //下载文件操作\r\n    async downloadHandle(index, row) {\r\n      this.loadingOverLay = this.$loading({\r\n        lock: true,\r\n        text: \'文件生成中\',\r\n        spinner: \'el-icon-loading\',\r\n        background: \'rgba(0,0,0,0.7)\'\r\n      });\r\n      var elemIF = document.createElement(\'iframe\');\r\n      //elemIF.src = `http://${process.env.BACKEND_API_HOST}`+\'/uploader/download?id=\'+row.id+\'&filename=\'+row.filename+\'&location=\'+row.location;\r\n      elemIF.style.display =\'none\';\r\n      document.body.appendChild(elemIF);\r\n      this.loadingOverLay.close();\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n    //动态设置内容高度，让footer始终置底  120是header+footer高度\r\n    this.Height = document.documentElement.clientHeight - 120;\r\n    //监听浏览器窗口变化\r\n    window.onresize = () => {this.Height = document.documentElement.clientHeight - 120}\r\n  },\r\n  components: {\r\n    UploadBigFile\r\n  }\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n  margin-top: -20px;\r\n  margin-bottom: 0px;\r\n}\r\n.uploadSlot {\r\n  margin: -10px 10px 10px 30px;\r\n}\r\n.red {\r\n  color: #ff0000;\r\n}\r\n.mr10 {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n'],sourceRoot:""}])}});
//# sourceMappingURL=14.5a2c7871b999d0a06b9e.js.map