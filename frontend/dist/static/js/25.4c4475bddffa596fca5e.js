webpackJsonp([25],{Hc2Z:function(n,t,e){var a=e("iLbd");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("rjj0")("2f045363",a,!1,{})},f1tp:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("BO1k"),r=e.n(a),o=e("PJh5"),s=e.n(o);s.a.locale("zh-cn");var i={data:function(){return{advanced:!1,dataSource:[],pagination:{defaultPageSize:10,defaultCurrent:1,pageSizeOptions:["10","20","30","40","100"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(n,t){return"显示 "+t[0]+" ~ "+t[1]+" 条记录，共 "+n+" 条记录"}},loading:!1}},computed:{columns:function(){var n=this.$createElement;return[{title:"请求时间",dataIndex:"timestamp",customRender:function(n,t,e){return s()(n).format("YYYY-MM-DD HH:mm:ss")}},{title:"请求方法",dataIndex:"request.method",customRender:function(t,e,a){switch(t){case"GET":return n("a-tag",{attrs:{color:"#87d068"}},[t]);case"POST":return n("a-tag",{attrs:{color:"#2db7f5"}},[t]);case"PUT":return n("a-tag",{attrs:{color:"#ffba5a"}},[t]);case"DELETE":return n("a-tag",{attrs:{color:"#f50"}},[t]);default:return t}},filters:[{text:"GET",value:"GET"},{text:"POST",value:"POST"},{text:"PUT",value:"PUT"},{text:"DELETE",value:"DELETE"}],filterMultiple:!0,onFilter:function(n,t){return t.request.method.includes(n)}},{title:"请求URL",dataIndex:"request.uri",customRender:function(n,t,e){return n.split("?")[0]}},{title:"响应状态",dataIndex:"response.status",customRender:function(t,e,a){return t<200?n("a-tag",{attrs:{color:"pink"}},[t]):t<201?n("a-tag",{attrs:{color:"green"}},[t]):t<399?n("a-tag",{attrs:{color:"cyan"}},[t]):t<403?n("a-tag",{attrs:{color:"orange"}},[t]):t<501?n("a-tag",{attrs:{color:"red"}},[t]):t}},{title:"请求耗时",dataIndex:"timeTaken",customRender:function(t,e,a){return n("a-tag",t<500?{attrs:{color:"green"}}:t<1e3?{attrs:{color:"cyan"}}:t<1500?{attrs:{color:"orange"}}:{attrs:{color:"red"}},[t," ms"])}}]}},mounted:function(){this.fetch()},methods:{search:function(){this.fetch()},handleTableChange:function(n,t,e){this.fetch()},fetch:function(){var n=this;this.loading=!0,this.$get("actuator/httptrace").then(function(t){var e=t.data;n.loading=!1;var a=[],o=0,s=!0,i=!1,c=void 0;try{for(var l,d=r()(e.traces);!(s=(l=d.next()).done);s=!0){var u=l.value;"OPTIONS"!==u.request.method&&-1===u.request.uri.indexOf("httptrace")&&(u.index=o,a.push(u),o++)}}catch(n){i=!0,c=n}finally{try{!s&&d.return&&d.return()}finally{if(i)throw c}}n.dataSource=a})}}},c=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[e("div",[e("div",{staticClass:"alert"},[e("a-alert",{attrs:{type:"success","show-icon":!0}},[e("div",{attrs:{slot:"message"},slot:"message"},[n._v("\n          共追踪到 "+n._s(n.dataSource.length)+" 条近期HTTP请求记录\n          "),e("a",{staticStyle:{"margin-left":"24px"},on:{click:n.search}},[n._v("点击刷新")])])])],1),n._v(" "),e("a-table",{attrs:{columns:n.columns,rowKey:function(n){return n.index},dataSource:n.dataSource,pagination:n.pagination,loading:n.loading,scroll:{x:900}},on:{change:n.handleTableChange}})],1)])};c._withStripped=!0;var l={render:c,staticRenderFns:[]},d=l;var u=!1;var m=e("VU/8")(i,d,!1,function(n){u||e("Hc2Z")},"data-v-78b25c7e",null);m.options.__file="src/views/monitor/Httptrace.vue";t.default=m.exports},iLbd:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n.search[data-v-78b25c7e] {\n  margin-bottom: 54px;\n}\n.fold[data-v-78b25c7e] {\n  width: calc(100% - 216px);\n  display: inline-block;\n}\n.operator[data-v-78b25c7e] {\n  margin-bottom: 18px;\n}\n@media screen and (max-width: 900px) {\n.fold[data-v-78b25c7e] {\n    width: 100%;\n}\n}\n.operator button[data-v-78b25c7e] {\n  margin-right: 5px;\n}\ni[data-v-78b25c7e] {\n  cursor: pointer;\n}\n.alert[data-v-78b25c7e] {\n  margin-bottom: 0.5rem;\n}\n","",{version:3,sources:["C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/monitor/C:/Users/shinelon/Desktop/Course-Managing-System/frontend/static/less/Common.less","C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/monitor/Httptrace.vue","C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/monitor/C:/Users/shinelon/Desktop/Course-Managing-System/frontend/src/views/monitor/Httptrace.vue"],names:[],mappings:";AAAA;EACE,oBAAA;CCCD;ADCD;EACE,0BAAA;EACA,sBAAA;CCCD;ADCD;EACE,oBAAA;CCCD;ADCD;AACE;IACE,YAAA;CCCD;CACF;ADCD;EACE,kBAAA;CCCD;ADCD;EACE,gBAAA;CCCD;ACoID;EACE,sBAAA;CDlID",file:"Httptrace.vue",sourcesContent:[".search{\n  margin-bottom: 54px;\n}\n.fold{\n  width: calc(100% - 216px);\n  display: inline-block\n}\n.operator{\n  margin-bottom: 18px;\n}\n@media screen and (max-width: 900px) {\n  .fold {\n    width: 100%;\n  }\n}\n.operator button {\n  margin-right: 5px;\n}\ni {\n  cursor: pointer;\n}\n",".search {\n  margin-bottom: 54px;\n}\n.fold {\n  width: calc(100% - 216px);\n  display: inline-block;\n}\n.operator {\n  margin-bottom: 18px;\n}\n@media screen and (max-width: 900px) {\n  .fold {\n    width: 100%;\n  }\n}\n.operator button {\n  margin-right: 5px;\n}\ni {\n  cursor: pointer;\n}\n.alert {\n  margin-bottom: 0.5rem;\n}\n",'\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import "../../../static/less/Common";\n.alert {\n  margin-bottom: .5rem;\n}\n'],sourceRoot:""}])}});
//# sourceMappingURL=25.4c4475bddffa596fca5e.js.map