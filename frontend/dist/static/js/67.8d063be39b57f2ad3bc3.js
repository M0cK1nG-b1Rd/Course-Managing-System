webpackJsonp([67],{HawA:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{width:"100%"}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[o("el-table-column",{attrs:{fixed:"",prop:"tuserInfo.name",label:"姓名",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"tuserInfo.class",label:"班级",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"sid",label:"学号",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"totalScore",label:"总成绩",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"processScore",label:"过程考核",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"docsScore",label:"文档报告",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"completionScore",label:"完成度",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{sortable:"",prop:"presentationScore",label:"答辩表现",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{prop:"feedback",label:"评价及反馈","show-overflow-tooltip":"",width:"120"}}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(o){return t.handleEdit(e.row)}}},[t._v("编辑")])]}}])})],1),t._v(" "),o("el-dialog",{attrs:{title:"修改学生成绩","before-close":t.quitEdit,visible:t.editDialogVisible,width:"55%",center:""},on:{"update:visible":function(e){t.editDialogVisible=e}}},[o("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"15%","label-position":"left"}},[o("el-form-item",{attrs:{label:"当前"}},[o("el-row",{staticStyle:{"font-size":"15px"}},[o("el-col",{attrs:{span:8}},[t._v("姓名:"+t._s(t.editingRow.tuserInfo.name))]),t._v(" "),o("el-col",{attrs:{span:8}},[t._v("班级:"+t._s(t.editingRow.tuserInfo.class))]),t._v(" "),o("el-col",{attrs:{span:8}},[t._v("学号:"+t._s(t.editingRow.sid))])],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"过程考核"}},[o("el-row",[o("el-col",{attrs:{span:16}},[o("a-progress",{attrs:{"stroke-color":{from:"#03aeff",to:"#87d068"},percent:t.editingRow.processScore,format:function(t){return t+" 分"},status:"active"}})],1),t._v(" "),o("el-col",{attrs:{span:2}},[o("span",[t._v(" ")])]),t._v(" "),o("el-col",{attrs:{span:3}},[o("el-input",{attrs:{clearable:""},on:{input:t.recalculateTotalcore},model:{value:t.editingRow.processScore,callback:function(e){t.$set(t.editingRow,"processScore",e)},expression:"editingRow.processScore"}})],1)],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"文档及报告"}},[o("el-row",[o("el-col",{attrs:{span:16}},[o("a-progress",{attrs:{"stroke-color":{from:"#03aeff",to:"#87d068"},percent:t.editingRow.docsScore,format:function(t){return t+" 分"},status:"active"}})],1),t._v(" "),o("el-col",{attrs:{span:2}},[o("span",[t._v(" ")])]),t._v(" "),o("el-col",{attrs:{span:3}},[o("el-input",{attrs:{clearable:""},on:{input:t.recalculateTotalcore},model:{value:t.editingRow.docsScore,callback:function(e){t.$set(t.editingRow,"docsScore",e)},expression:"editingRow.docsScore"}})],1)],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"完成情况"}},[o("el-row",[o("el-col",{attrs:{span:16}},[o("a-progress",{attrs:{"stroke-color":{from:"#03aeff",to:"#87d068"},percent:t.editingRow.completionScore,format:function(t){return t+" 分"},status:"active"}})],1),t._v(" "),o("el-col",{attrs:{span:2}},[o("span",[t._v(" ")])]),t._v(" "),o("el-col",{attrs:{span:3}},[o("el-input",{attrs:{clearable:""},on:{input:t.recalculateTotalcore},model:{value:t.editingRow.completionScore,callback:function(e){t.$set(t.editingRow,"completionScore",e)},expression:"editingRow.completionScore"}})],1)],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"答辩表现"}},[o("el-row",[o("el-col",{attrs:{span:16}},[o("a-progress",{attrs:{"stroke-color":{from:"#03aeff",to:"#87d068"},percent:t.editingRow.presentationScore,format:function(t){return t+" 分"},status:"active"}})],1),t._v(" "),o("el-col",{attrs:{span:2}},[o("span",[t._v(" ")])]),t._v(" "),o("el-col",{attrs:{span:3}},[o("el-input",{attrs:{clearable:""},on:{input:t.recalculateTotalcore},model:{value:t.editingRow.presentationScore,callback:function(e){t.$set(t.editingRow,"presentationScore",e)},expression:"editingRow.presentationScore"}})],1)],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"加权总分"}},[o("el-row",[o("el-col",{attrs:{span:16}},[o("a-progress",{attrs:{"stroke-color":{from:"#ff3503",to:"#ffdc00"},percent:t.editingRow.totalScore,format:function(t){return t+" 分"},status:"active"}})],1)],1)],1),t._v(" "),o("el-form-item"),t._v(" "),o("el-row",[o("el-col",{attrs:{span:2}},[t._v(" ")]),t._v(" "),o("el-col",{attrs:{span:19}},[o("el-input",{attrs:{type:"textarea",rows:"5",placeholder:"请在此对学生进行点评及反馈"},model:{value:t.editingRow.feedback,callback:function(e){t.$set(t.editingRow,"feedback",e)},expression:"editingRow.feedback"}})],1)],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:t.quitEdit}},[t._v("取消修改")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.submitEdit}},[t._v("保存修改")])],1)],1)],1)};a._withStripped=!0;var l={render:a,staticRenderFns:[]},r=l;var i=o("VU/8")({methods:{handleEdit:function(t){this.editDialogVisible=!0,this.oldRow=t,this.editingRow=t},quitEdit:function(){this.editingRow=this.oldRow,this.$message.info("成绩修改已取消！"),this.editDialogVisible=!1},submitEdit:function(){var t=this;this.$put("project/score",this.editingRow).then(function(e){t.$message.success("成绩修改成功！")}),this.editDialogVisible=!1},recalculateTotalcore:function(){this.editingRow.totalScore=this.editingRow.processScore*this.markRule.process+this.editingRow.presentationScore*this.markRule.presentation+this.editingRow.docsScore*this.markRule.docs+this.editingRow.completionScore*this.markRule.completion,this.editingRow.totalScore/=100}},mounted:function(){var t=this;this.$get("project/all_score").then(function(e){t.tableData=e.data.data.stuScore}),this.$get("project/score/rules").then(function(e){t.markRule.process=e.data.data[0].ratio,t.markRule.docs=e.data.data[1].ratio,t.markRule.completion=e.data.data[2].ratio,t.markRule.presentation=e.data.data[3].ratio})},data:function(){return{tableData:[],editDialogVisible:!1,editingRow:{sid:"",completionScore:0,docsScore:0,processScore:0,tuserInfo:{name:"",class:""}},oldRow:{},markRule:{}}}},r,!1,null,null,null);i.options.__file="src/views/project/score/all/AllScore.vue";e.default=i.exports}});
//# sourceMappingURL=67.8d063be39b57f2ad3bc3.js.map